(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     30227,        720]
NotebookOptionsPosition[     28581,        666]
NotebookOutlinePosition[     28919,        681]
CellTagsIndexPosition[     28876,        678]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["\<\
El formato de matriz en Mathematica es tal que A={{a,b}{c,d}} representa una \
matriz donde las filas son (a,b) y (c,d).Un vector puede  representarse como \
v={a,b} o bien como v={{a}{b}}, que ser\[IAcute]a el equivalente a una matriz \
columna.\
\>", "Text",
 CellChangeTimes->{{3.5209461124347363`*^9, 3.520946126427457*^9}, 
   3.521197661557229*^9}],

Cell["\<\
Lo primero que se hace en el ANM es normalizar cada uno de los modos por la \
mayor norma de los vectores direcci\[OAcute]n que representan cada nodo.  A \
continuaci\[OAcute]n se hace el picking, en este caso la direcci\[OAcute]n se \
obtiene al multiplicar por el vector de pesos.\
\>", "Text",
 CellChangeTimes->{
  3.520946096926866*^9, {3.5209461304450083`*^9, 3.520946163945634*^9}, 
   3.521197661557528*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 FormBox[
  RowBox[{
   RowBox[{"beforePick", "=", 
    TemplateBox[{RowBox[{"(", "\[NoBreak]", 
        GridBox[{{
           RowBox[{"-", "0.266698`"}], "0.507249`", 
           RowBox[{"-", "0.212788`"}], "0.742897`", 
           RowBox[{"-", "0.887872`"}], "0.166273`", 
           RowBox[{"-", "0.476199`"}], "0.380623`", "0.0465152`"}, {
          "0.111975`", "0.0177462`", 
           RowBox[{"-", "0.0980396`"}], 
           RowBox[{"-", "0.168425`"}], 
           RowBox[{"-", "0.101873`"}], "0.208524`", "0.0564502`", "0.084127`", 
           RowBox[{"-", "0.110484`"}]}, {"0.157242`", "0.0670744`", 
           RowBox[{"-", "0.17191`"}], 
           RowBox[{"-", "0.0311472`"}], "0.0372151`", 
           RowBox[{"-", "0.00696282`"}], 
           RowBox[{"-", "0.126095`"}], 
           RowBox[{"-", "0.10429`"}], "0.178872`"}}, 
         GridBoxAlignment -> {
          "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, 
           "Rows" -> {{Baseline}}, "RowsIndexed" -> {}}, 
         GridBoxSpacings -> {"Columns" -> {
             Offset[0.27999999999999997`], {
              Offset[0.7]}, 
             Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
             Offset[0.2], {
              Offset[0.4]}, 
             Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}]},
     "Transpose"]}], "\[IndentingNewLine]"}], TraditionalForm], "\n", 
 FormBox[
  RowBox[{
   RowBox[{"wInit", "=", 
    RowBox[{"{", 
     RowBox[{"0.8", ",", 
      RowBox[{"-", "0.45"}], ",", "0.73"}], "}"}]}], "\[IndentingNewLine]"}], 
  TraditionalForm], "\n", 
 FormBox[
  RowBox[{
   RowBox[{"direigvec", "=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.148961"}], ",", "0.446778", ",", 
      RowBox[{"-", "0.251607"}], ",", "0.647371", ",", 
      RowBox[{"-", "0.637288"}], ",", "0.0341", ",", 
      RowBox[{"-", "0.498411"}], ",", "0.19051", ",", "0.217507"}], "}"}]}], 
   "\[IndentingNewLine]"}], TraditionalForm], "\n", 
 FormBox[
  RowBox[{"direigcalc", "=", 
   RowBox[{"beforePick", ".", "wInit"}]}], TraditionalForm]}], "Input",
 CellChangeTimes->{{3.5209445100519447`*^9, 3.5209446389252453`*^9}, {
  3.5209446990787497`*^9, 3.520944753346385*^9}, {3.5209457058970747`*^9, 
  3.520945709443591*^9}, {3.5209462396294117`*^9, 3.5209462455079813`*^9}, {
  3.521197661558208*^9, 3.521197666476406*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", "0.266698`"}], "0.111975`", "0.157242`"},
     {"0.507249`", "0.0177462`", "0.0670744`"},
     {
      RowBox[{"-", "0.212788`"}], 
      RowBox[{"-", "0.0980396`"}], 
      RowBox[{"-", "0.17191`"}]},
     {"0.742897`", 
      RowBox[{"-", "0.168425`"}], 
      RowBox[{"-", "0.0311472`"}]},
     {
      RowBox[{"-", "0.887872`"}], 
      RowBox[{"-", "0.101873`"}], "0.0372151`"},
     {"0.166273`", "0.208524`", 
      RowBox[{"-", "0.00696282`"}]},
     {
      RowBox[{"-", "0.476199`"}], "0.0564502`", 
      RowBox[{"-", "0.126095`"}]},
     {"0.380623`", "0.084127`", 
      RowBox[{"-", "0.10429`"}]},
     {"0.0465152`", 
      RowBox[{"-", "0.110484`"}], "0.178872`"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}], 
  TraditionalForm]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{{3.520944640735383*^9, 3.520944650803591*^9}, 
   3.520944756648746*^9, {3.521197653616756*^9, 3.5211976664767733`*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.8`", ",", 
    RowBox[{"-", "0.45`"}], ",", "0.73`"}], "}"}], TraditionalForm]], "Output",\

 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{{3.520944640735383*^9, 3.520944650803591*^9}, 
   3.520944756649893*^9, {3.521197661558777*^9, 3.521197686151675*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"-", "0.148961`"}], ",", "0.446778`", ",", 
    RowBox[{"-", "0.251607`"}], ",", "0.647371`", ",", 
    RowBox[{"-", "0.637288`"}], ",", "0.0341`", ",", 
    RowBox[{"-", "0.498411`"}], ",", "0.19051`", ",", "0.217507`"}], "}"}], 
  TraditionalForm]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{{3.520944640735383*^9, 3.520944650803591*^9}, 
   3.520944756650692*^9, 3.5209462565782967`*^9, {3.5211976615589447`*^9, 
   3.521197666477084*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"-", "0.14896049`"}], ",", "0.446777722`", ",", 
    RowBox[{"-", "0.25160688`"}], ",", "0.647371394`", ",", 
    RowBox[{"-", "0.6372877270000001`"}], ",", "0.034099741400000015`", ",", 
    RowBox[{"-", "0.49841114`"}], ",", "0.19050955`", ",", "0.21750652`"}], 
   "}"}], TraditionalForm]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{{3.520944640735383*^9, 3.520944650803591*^9}, 
   3.520944756651513*^9, 3.5209462600111322`*^9, {3.521197661559101*^9, 
   3.521197666477242*^9}}]
}, Open  ]],

Cell["\<\
Ok, las direcciones coinciden.
El siguiente paso ser\[AAcute] normalizar la direcci\[OAcute]n resultante por \
la mayor norma.\
\>", "Text",
 CellChangeTimes->{{3.5209461503110456`*^9, 3.520946207769771*^9}, 
   3.5211976615592833`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 FormBox[
  RowBox[{"biggestInverseNorm", "=", "1.1"}], TraditionalForm], "\n", 
 FormBox[
  RowBox[{"Eig", "=", 
   TemplateBox[{RowBox[{"(", "\[NoBreak]", 
       GridBox[{{
          RowBox[{"-", "0.2666981959699`"}], "0.5072487014293`", 
          RowBox[{"-", "0.212788290627`"}], "0.7428968447104`", 
          RowBox[{"-", "0.8878718817368`"}], "0.1662730510798`", 
          RowBox[{"-", "0.4761986487405`"}], "0.3806231803076`", 
          "0.04651523954721`"}, {"0.1119745119814`", "0.01774615953893`", 
          RowBox[{"-", "0.09803962378329`"}], 
          RowBox[{"-", "0.1684246810639`"}], 
          RowBox[{"-", "0.1018731518957`"}], "0.2085236112313`", 
          "0.05645016908254`", "0.08412699235681`", 
          RowBox[{"-", "0.110483987448`"}]}, {
         "0.1572418621891`", "0.06707443677222`", 
          RowBox[{"-", "0.1719096205721`"}], 
          RowBox[{"-", "0.03114715954245`"}], "0.03721507149256`", 
          RowBox[{"-", "0.00696281982764`"}], 
          RowBox[{"-", "0.1260947026466`"}], 
          RowBox[{"-", "0.1042895082648`"}], "0.1788724403997`"}}, 
        GridBoxAlignment -> {
         "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, 
          "Rows" -> {{Baseline}}, "RowsIndexed" -> {}}, 
        GridBoxSpacings -> {"Columns" -> {
            Offset[0.27999999999999997`], {
             Offset[0.7]}, 
            Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, 
          "Rows" -> {
            Offset[0.2], {
             Offset[0.4]}, 
            Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}]},
    "Transpose"]}], TraditionalForm], "\n", 
 FormBox[
  RowBox[{"moveVecBefore", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.14896049`"}], ",", "0.446777722`", ",", 
     RowBox[{"-", "0.25160688`"}], ",", "0.647371394`", ",", 
     RowBox[{"-", "0.6372877270000001`"}], ",", "0.034099741400000015`", ",", 
     
     RowBox[{"-", "0.49841114`"}], ",", "0.19050955`", ",", "0.21750652`"}], 
    "}"}]}], TraditionalForm], "\n", 
 FormBox[
  RowBox[{"moveVecAfter", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.163862"}], ",", "0.491473", ",", 
     RowBox[{"-", "0.276777"}], ",", "0.712134", ",", 
     RowBox[{"-", "0.701041"}], ",", "0.0375113", ",", 
     RowBox[{"-", "0.548271"}], ",", "0.209568", ",", "0.239266"}], "}"}]}], 
  TraditionalForm], "\n", 
 FormBox[
  RowBox[{"moveVecAfterCalc", "=", 
   RowBox[{"biggestInverseNorm", " ", "moveVecBefore"}]}], 
  TraditionalForm]}], "Input",
 CellChangeTimes->{{3.52093504837724*^9, 3.520935055452338*^9}, {
   3.520935119913186*^9, 3.520935150679594*^9}, {3.520935285255291*^9, 
   3.5209353838520613`*^9}, {3.520936251076665*^9, 3.520936261144915*^9}, {
   3.520936317442878*^9, 3.5209363574138002`*^9}, {3.520936392477701*^9, 
   3.520936441487295*^9}, {3.5209371195884438`*^9, 3.520937163473835*^9}, {
   3.520937217947466*^9, 3.520937231373208*^9}, {3.5209373947456493`*^9, 
   3.5209374378819723`*^9}, {3.5209375359691257`*^9, 3.520937575920289*^9}, 
   3.520937717251855*^9, {3.520938034593213*^9, 3.520938054651889*^9}, {
   3.520938091343255*^9, 3.520938148500317*^9}, 3.520938183987008*^9, {
   3.520938427143591*^9, 3.520938429902771*^9}, 3.520938490628784*^9, {
   3.52093920065704*^9, 3.520939240059877*^9}, {3.520939412807699*^9, 
   3.520939413127288*^9}, {3.5209394713405237`*^9, 3.520939485227077*^9}, {
   3.520939543254406*^9, 3.520939543382472*^9}, {3.520940372857926*^9, 
   3.5209404702881603`*^9}, 3.52094052372995*^9, {3.520940832609541*^9, 
   3.520940835974876*^9}, {3.5209408734406548`*^9, 3.520940982477392*^9}, {
   3.520943012644014*^9, 3.520943023085457*^9}, {3.520946288615013*^9, 
   3.52094629403577*^9}, {3.5209464895349083`*^9, 3.5209466540166063`*^9}, {
   3.5209473555801783`*^9, 3.520947362306664*^9}, {3.520949050796472*^9, 
   3.520949052158848*^9}, 3.521197661559716*^9, 3.521197701719871*^9}],

Cell[BoxData["1.1`"], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520935114959227*^9, 3.520935357235712*^9, {3.520936332422633*^9, 
   3.520936372800138*^9}, {3.5209364369671307`*^9, 3.520936444545887*^9}, 
   3.520937127459832*^9, 3.520937160485105*^9, 3.520937240519291*^9, 
   3.520937428376664*^9, {3.520937561516778*^9, 3.5209375886849403`*^9}, 
   3.5209380629107733`*^9, {3.520938125648933*^9, 3.520938152754668*^9}, {
   3.520938201931621*^9, 3.5209382137469683`*^9}, {3.5209384335795794`*^9, 
   3.520938456247937*^9}, 3.5209384941721888`*^9, 3.520939246898077*^9, 
   3.5209393417755947`*^9, 3.520939416434523*^9, {3.520939479141068*^9, 
   3.520939487574133*^9}, 3.520939546032999*^9, 3.520940374506116*^9, 
   3.520940921103078*^9, 3.5209409855590143`*^9, 3.520943026060397*^9, 
   3.5209466576562653`*^9, 3.520949063154222*^9, 3.521197661560562*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.2666981959699`"}], ",", "0.1119745119814`", ",", 
     "0.1572418621891`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.5072487014293`", ",", "0.01774615953893`", ",", "0.06707443677222`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.212788290627`"}], ",", 
     RowBox[{"-", "0.09803962378329`"}], ",", 
     RowBox[{"-", "0.1719096205721`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.7428968447104`", ",", 
     RowBox[{"-", "0.1684246810639`"}], ",", 
     RowBox[{"-", "0.03114715954245`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.8878718817368`"}], ",", 
     RowBox[{"-", "0.1018731518957`"}], ",", "0.03721507149256`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0.1662730510798`", ",", "0.2085236112313`", ",", 
     RowBox[{"-", "0.00696281982764`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.4761986487405`"}], ",", "0.05645016908254`", ",", 
     RowBox[{"-", "0.1260947026466`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.3806231803076`", ",", "0.08412699235681`", ",", 
     RowBox[{"-", "0.1042895082648`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.04651523954721`", ",", 
     RowBox[{"-", "0.110483987448`"}], ",", "0.1788724403997`"}], "}"}]}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520935114959227*^9, 3.520935357235712*^9, {3.520936332422633*^9, 
   3.520936372800138*^9}, {3.5209364369671307`*^9, 3.520936444545887*^9}, 
   3.520937127459832*^9, 3.520937160485105*^9, 3.520937240519291*^9, 
   3.520937428376664*^9, {3.520937561516778*^9, 3.5209375886849403`*^9}, 
   3.5209380629107733`*^9, {3.520938125648933*^9, 3.520938152754668*^9}, {
   3.520938201931621*^9, 3.5209382137469683`*^9}, {3.5209384335795794`*^9, 
   3.520938456247937*^9}, 3.5209384941721888`*^9, 3.520939246898077*^9, 
   3.5209393417755947`*^9, 3.520939416434523*^9, {3.520939479141068*^9, 
   3.520939487574133*^9}, 3.520939546032999*^9, 3.520940374506116*^9, 
   3.520940921103078*^9, 3.5209409855590143`*^9, 3.520943026060397*^9, 
   3.5209466576562653`*^9, 3.520949063155733*^9, 3.520950409311379*^9, 
   3.521178715035286*^9, 3.521197661561328*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "0.14896049`"}], ",", "0.446777722`", ",", 
   RowBox[{"-", "0.25160688`"}], ",", "0.647371394`", ",", 
   RowBox[{"-", "0.6372877270000001`"}], ",", "0.034099741400000015`", ",", 
   RowBox[{"-", "0.49841114`"}], ",", "0.19050955`", ",", "0.21750652`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520935114959227*^9, 3.520935357235712*^9, {3.520936332422633*^9, 
   3.520936372800138*^9}, {3.5209364369671307`*^9, 3.520936444545887*^9}, 
   3.520937127459832*^9, 3.520937160485105*^9, 3.520937240519291*^9, 
   3.520937428376664*^9, {3.520937561516778*^9, 3.5209375886849403`*^9}, 
   3.5209380629107733`*^9, {3.520938125648933*^9, 3.520938152754668*^9}, {
   3.520938201931621*^9, 3.5209382137469683`*^9}, {3.5209384335795794`*^9, 
   3.520938456247937*^9}, 3.5209384941721888`*^9, 3.520939246898077*^9, 
   3.5209393417755947`*^9, 3.520939416434523*^9, {3.520939479141068*^9, 
   3.520939487574133*^9}, 3.520939546032999*^9, 3.520940374506116*^9, 
   3.520940921103078*^9, 3.5209409855590143`*^9, 3.520943026060397*^9, 
   3.5209466576562653`*^9, 3.520949063156708*^9, 3.521197661561957*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "0.163862`"}], ",", "0.491473`", ",", 
   RowBox[{"-", "0.276777`"}], ",", "0.712134`", ",", 
   RowBox[{"-", "0.701041`"}], ",", "0.0375113`", ",", 
   RowBox[{"-", "0.548271`"}], ",", "0.209568`", ",", "0.239266`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520935114959227*^9, 3.520935357235712*^9, {3.520936332422633*^9, 
   3.520936372800138*^9}, {3.5209364369671307`*^9, 3.520936444545887*^9}, 
   3.520937127459832*^9, 3.520937160485105*^9, 3.520937240519291*^9, 
   3.520937428376664*^9, {3.520937561516778*^9, 3.5209375886849403`*^9}, 
   3.5209380629107733`*^9, {3.520938125648933*^9, 3.520938152754668*^9}, {
   3.520938201931621*^9, 3.5209382137469683`*^9}, {3.5209384335795794`*^9, 
   3.520938456247937*^9}, 3.5209384941721888`*^9, 3.520939246898077*^9, 
   3.5209393417755947`*^9, 3.520939416434523*^9, {3.520939479141068*^9, 
   3.520939487574133*^9}, 3.520939546032999*^9, 3.520940374506116*^9, 
   3.520940921103078*^9, 3.5209409855590143`*^9, 3.520943026060397*^9, 
   3.5209466576562653`*^9, 3.5209490631577*^9, 3.521197661562582*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "0.16385653900000002`"}], ",", "0.4914554942`", ",", 
   RowBox[{"-", "0.276767568`"}], ",", "0.7121085334`", ",", 
   RowBox[{"-", "0.7010164997000002`"}], ",", "0.03750971554000002`", ",", 
   RowBox[{"-", "0.548252254`"}], ",", "0.209560505`", ",", 
   "0.23925717200000002`"}], "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520935114959227*^9, 3.520935357235712*^9, {3.520936332422633*^9, 
   3.520936372800138*^9}, {3.5209364369671307`*^9, 3.520936444545887*^9}, 
   3.520937127459832*^9, 3.520937160485105*^9, 3.520937240519291*^9, 
   3.520937428376664*^9, {3.520937561516778*^9, 3.5209375886849403`*^9}, 
   3.5209380629107733`*^9, {3.520938125648933*^9, 3.520938152754668*^9}, {
   3.520938201931621*^9, 3.5209382137469683`*^9}, {3.5209384335795794`*^9, 
   3.520938456247937*^9}, 3.5209384941721888`*^9, 3.520939246898077*^9, 
   3.5209393417755947`*^9, 3.520939416434523*^9, {3.520939479141068*^9, 
   3.520939487574133*^9}, 3.520939546032999*^9, 3.520940374506116*^9, 
   3.520940921103078*^9, 3.5209409855590143`*^9, 3.520943026060397*^9, 
   3.5209466576562653`*^9, 3.5209490631586943`*^9, 3.521197661563122*^9}]
}, Open  ]],

Cell["\<\
Ok, los dos vectores resultantes coinciden. Lo siguiente para obtener las \
direcciones es multiplicarlas por el factor de desplazamiento.\
\>", "Text",
 CellChangeTimes->{{3.520946691011994*^9, 3.52094671311299*^9}, {
   3.520947005609639*^9, 3.520947032198558*^9}, 3.521197661563713*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"dispFactor", " ", "=", " ", "1"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"finalMoveVecAfterCalc", " ", "=", " ", 
  RowBox[{"dispFactor", "*", "moveVecAfter"}]}]}], "Input",
 CellChangeTimes->{
  3.5209473494137487`*^9, {3.520947494207315*^9, 3.520947526741014*^9}, 
   3.52119766156387*^9}],

Cell[BoxData["1"], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{3.520947531018268*^9, 3.521197661564489*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "0.163862`"}], ",", "0.491473`", ",", 
   RowBox[{"-", "0.276777`"}], ",", "0.712134`", ",", 
   RowBox[{"-", "0.701041`"}], ",", "0.0375113`", ",", 
   RowBox[{"-", "0.548271`"}], ",", "0.209568`", ",", "0.239266`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{3.5209475310188627`*^9, 3.5211976615653677`*^9}]
}, Open  ]],

Cell["\<\
Dadas las distancias y los eigenvectors, buscamos los pesos.\
\>", "Text",
 CellChangeTimes->{{3.5209495494047832`*^9, 3.520949564847681*^9}, 
   3.521197661566074*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"distFinal", "=", 
  RowBox[{"{", 
   RowBox[{"0.0193923", ",", "0.344022", ",", 
    RowBox[{"-", "0.281618"}], ",", "0.39426", ",", 
    RowBox[{"-", "0.475908"}], ",", "0.0614474", ",", 
    RowBox[{"-", "0.407412"}], ",", "0.132087", ",", "0.21539"}], 
   "}"}]}], "\n", 
 RowBox[{"wcalcFin", "=", 
  RowBox[{"LinearSolve", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Transpose", "[", "Eig", "]"}], ".", "Eig"}], ",", 
    RowBox[{
     RowBox[{"Transpose", "[", "Eig", "]"}], ".", "distFinal"}]}], 
   "]"}]}], "\n", 
 RowBox[{
  RowBox[{"PseudoInverse", "[", "Eig", "]"}], ".", "distFinal"}], "\n", 
 RowBox[{
  RowBox[{"Transpose", "[", "Eig", "]"}], ".", "Eig", ".", "wcalcFin"}], "\n", 
 RowBox[{
  RowBox[{"Transpose", "[", "Eig", "]"}], ".", "distFinal"}], "\n", 
 RowBox[{"Eig", ".", "wcalcFin"}], "\n", "distFinal"}], "Input",
 CellChangeTimes->{{3.5209495715292063`*^9, 3.5209495824338503`*^9}, {
   3.5209496166929073`*^9, 3.520949642521865*^9}, {3.5209497458601637`*^9, 
   3.520949765664709*^9}, {3.520949801246477*^9, 3.52094993154834*^9}, {
   3.520949991936933*^9, 3.5209500140912313`*^9}, {3.5209502248686533`*^9, 
   3.5209502303811693`*^9}, {3.52095034396552*^9, 3.520950348860437*^9}, {
   3.520950453230913*^9, 3.5209504670178137`*^9}, {3.5209506594366627`*^9, 
   3.520950660105383*^9}, {3.520951341087598*^9, 3.5209513753171167`*^9}, {
   3.5211763067901793`*^9, 3.521176315668469*^9}, {3.5211763703085947`*^9, 
   3.5211763786215277`*^9}, 3.521178791645163*^9, 3.521197661566338*^9, {
   3.5211977233103533`*^9, 3.521197739495592*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.0193923`", ",", "0.344022`", ",", 
   RowBox[{"-", "0.281618`"}], ",", "0.39426`", ",", 
   RowBox[{"-", "0.475908`"}], ",", "0.0614474`", ",", 
   RowBox[{"-", "0.407412`"}], ",", "0.132087`", ",", "0.21539`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377000531*^9}, 3.521197661566504*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.5716343625988561`", ",", 
   RowBox[{"-", "0.03857212008522277`"}], ",", "1.002424782084723`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377001405*^9}, 3.521197661567132*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.5716343625988562`", ",", 
   RowBox[{"-", "0.03857212008523009`"}], ",", "1.002424782084713`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.5209513770021553`*^9}, 3.521197661567747*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.000850191857355187`", ",", "0.35651335878869644`", ",", 
   RowBox[{"-", "0.2901819666796409`"}], ",", "0.3999391767091445`", ",", 
   RowBox[{"-", "0.46630330380648466`"}], ",", "0.08002448864993329`", ",", 
   RowBox[{"-", "0.4007893685664511`"}], ",", "0.10978994501782387`", ",", 
   "0.21015747802967286`"}], "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377003006*^9}, 3.521197661568398*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.209218057679266`", ",", 
   RowBox[{"-", "0.00490493794214554`"}], ",", "0.12024287189166685`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377003766*^9}, 3.521197661569004*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.2092180576792662`", ",", 
   RowBox[{"-", "0.004904937942145537`"}], ",", "0.12024287189166684`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377004528*^9}, 3.521197661569479*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.000850191857355187`", ",", "0.35651335878869644`", ",", 
   RowBox[{"-", "0.2901819666796409`"}], ",", "0.3999391767091445`", ",", 
   RowBox[{"-", "0.46630330380648466`"}], ",", "0.08002448864993329`", ",", 
   RowBox[{"-", "0.4007893685664511`"}], ",", "0.10978994501782387`", ",", 
   "0.21015747802967286`"}], "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377005374*^9}, 3.5211976615699673`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.0193923`", ",", "0.344022`", ",", 
   RowBox[{"-", "0.281618`"}], ",", "0.39426`", ",", 
   RowBox[{"-", "0.475908`"}], ",", "0.0614474`", ",", 
   RowBox[{"-", "0.407412`"}], ",", "0.132087`", ",", "0.21539`"}], 
  "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520949644696752*^9, 3.520949768942782*^9, {3.520949818612794*^9, 
   3.520949833505569*^9}, 3.520949870501504*^9, {3.520949917064438*^9, 
   3.520949933151127*^9}, 3.5209500077220287`*^9, 3.520950232823238*^9, 
   3.520950468327063*^9, {3.5209506555298557`*^9, 3.520950660940502*^9}, {
   3.520951351213213*^9, 3.520951377006219*^9}, 3.5211976615704517`*^9}]
}, Open  ]],

Cell["\<\
Una vez lo hemos hecho en una direccion pasamos a la direccion inversa. \
Teniamos unas distancias objetivo, pero al final, despues de minimizar, nos \
hemos quedado con unas distancias diferentes. Estas distancias son las que se \
hubieran obtenido de usar ciertos pesos que se han calculado.  Comprobamos \
haciendo el recorrido inverso que los pesos producen esas distancias.\
\>", "Text",
 CellChangeTimes->{{3.520948460266965*^9, 3.520948538109597*^9}, {
   3.520948659645258*^9, 3.520948673601103*^9}, {3.520948792227603*^9, 
   3.520948821120509*^9}, {3.520948892420998*^9, 3.520948928467369*^9}, 
   3.521197661571145*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"wFinales", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"0.62882", ",", 
     RowBox[{"-", "0.0424306"}], ",", "1.10271"}], "}"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"distFinalCalc", " ", "=", " ", 
  RowBox[{"(", 
   RowBox[{"Eig", ".", "wFinales"}], ")"}]}]}], "Input",
 CellChangeTimes->{{3.5209486747654333`*^9, 3.5209486799380207`*^9}, {
   3.520948723666563*^9, 3.520948740174528*^9}, {3.520948833439917*^9, 
   3.520948890119008*^9}, {3.5209489372865953`*^9, 3.5209490415648117`*^9}, {
   3.520949091397172*^9, 3.520949125594069*^9}, 3.5209496249994287`*^9, {
   3.5209515297414303`*^9, 3.520951533917616*^9}, 3.521197661571321*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.62882`", ",", 
   RowBox[{"-", "0.0424306`"}], ",", "1.10271`"}], "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520948945268272*^9, 3.520949013026435*^9, 3.5209490454176693`*^9, {
   3.5209490802197647`*^9, 3.5209491276918573`*^9}, 3.520951154960701*^9, {
   3.520951531973342*^9, 3.52095153472783*^9}, 3.521197661571788*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.0009358685366719355`", ",", "0.3921788004089346`", ",", 
   RowBox[{"-", "0.3192121105522313`"}], ",", "0.4399484698640886`", ",", 
   RowBox[{"-", "0.5129516262293481`"}], ",", "0.08803006698915214`", ",", 
   RowBox[{"-", "0.4408843384007071`"}], ",", "0.1207728258204526`", ",", 
   "0.2311820435630409`"}], "}"}]], "Output",
 GeneratedCell->False,
 CellAutoOverwrite->False,
 CellChangeTimes->{
  3.520948945268272*^9, 3.520949013026435*^9, 3.5209490454176693`*^9, {
   3.5209490802197647`*^9, 3.5209491276918573`*^9}, 3.520951154960701*^9, {
   3.520951531973342*^9, 3.520951534728765*^9}, 3.5211976615723257`*^9}]
}, Open  ]]
},
WindowSize->{1101, 868},
WindowMargins->{{Automatic, 14}, {45, Automatic}},
FrontEndVersion->"8.0 for Linux x86 (64-bit) (February 23, 2011)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 364, 7, 49, "Text"],
Cell[924, 29, 425, 8, 49, "Text"],
Cell[CellGroupData[{
Cell[1374, 41, 2363, 54, 195, "Input"],
Cell[3740, 97, 1417, 40, 174, "Output"],
Cell[5160, 139, 334, 9, 31, "Output"],
Cell[5497, 150, 543, 13, 31, "Output"],
Cell[6043, 165, 583, 13, 31, "Output"]
}, Open  ]],
Cell[6641, 181, 246, 6, 49, "Text"],
Cell[CellGroupData[{
Cell[6912, 191, 3907, 76, 179, "Input"],
Cell[10822, 269, 902, 14, 30, "Output"],
Cell[11727, 285, 2301, 53, 69, "Output"],
Cell[14031, 340, 1203, 21, 30, "Output"],
Cell[15237, 363, 1164, 21, 30, "Output"],
Cell[16404, 386, 1228, 21, 30, "Output"]
}, Open  ]],
Cell[17647, 410, 299, 5, 30, "Text"],
Cell[CellGroupData[{
Cell[17971, 419, 350, 8, 69, "Input"],
Cell[18324, 429, 142, 3, 30, "Output"],
Cell[18469, 434, 413, 10, 30, "Output"]
}, Open  ]],
Cell[18897, 447, 178, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[19100, 455, 1588, 32, 145, "Input"],
Cell[20691, 489, 706, 14, 30, "Output"],
Cell[21400, 505, 590, 12, 30, "Output"],
Cell[21993, 519, 592, 12, 30, "Output"],
Cell[22588, 533, 804, 14, 30, "Output"],
Cell[23395, 549, 591, 12, 30, "Output"],
Cell[23989, 563, 593, 12, 30, "Output"],
Cell[24585, 577, 806, 14, 30, "Output"],
Cell[25394, 593, 708, 14, 30, "Output"]
}, Open  ]],
Cell[26117, 610, 640, 10, 68, "Text"],
Cell[CellGroupData[{
Cell[26782, 624, 703, 14, 69, "Input"],
Cell[27488, 640, 413, 9, 30, "Output"],
Cell[27904, 651, 661, 12, 30, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
